# =========================================================
# PHASE 1: HTTP-ONLY CONFIGURATION (DNS NOT CONFIGURED YET)
# =========================================================
#
# USE THIS CONFIGURATION WHEN:
# - DNS is not yet pointing to your server
# - You want to access the site via IP address (http://18.223.101.101)
# - SSL certificates are not yet properly configured
#
# IMPORTANT: This is a TEMPORARY configuration
# Once DNS is configured, switch to .env.phase2-https
# =========================================================

# Django Settings
# =========================================================

# CRITICAL: Generate a new SECRET_KEY before using this file!
# Run this command on your server to generate:
# python3 -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=REPLACE_THIS_WITH_GENERATED_SECRET_KEY

# Keep DEBUG False in production
DEBUG=False

# Allow access from domain and IP address
ALLOWED_HOSTS=zohaib.no,www.zohaib.no,18.223.101.101

# Database Configuration
# =========================================================
# Using SQLite (default) - no DATABASE_URL needed
# If you want to use PostgreSQL later, uncomment and configure:
# DATABASE_URL=postgresql://username:password@localhost/dbname

# External API Configuration
# =========================================================
# Statens Vegvesen (Norwegian Vehicle Authority) API Key
STATENS_VEGVESEN_API_KEY=fea6488c-bf34-4326-8b83-d1cb5e25d810

# Security Settings - TEMPORARILY RELAXED FOR HTTP
# =========================================================
# These settings are set to False/HTTP because DNS is not configured
# and SSL is not working yet. This allows the site to work via HTTP.

# Allow HTTP requests from server IP
CSRF_TRUSTED_ORIGINS=http://18.223.101.101

# TEMPORARILY DISABLED - Enable after DNS and SSL are working
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# Email Configuration (Optional)
# =========================================================
# Uncomment and configure if you want Django to send error emails
# This is optional for initial deployment

# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@gmail.com
# EMAIL_HOST_PASSWORD=your-gmail-app-password
# DEFAULT_FROM_EMAIL=noreply@zohaib.no
# ADMINS=admin@zohaib.no

# =========================================================
# DEPLOYMENT INSTRUCTIONS
# =========================================================
#
# 1. Generate SECRET_KEY:
#    python3 -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
#
# 2. Replace SECRET_KEY above with the generated value
#
# 3. Copy this file to your server:
#    scp deployment/.env.phase1-http ubuntu@18.223.101.101:/tmp/
#
# 4. On the server, move it to the correct location:
#    sudo mv /tmp/.env.phase1-http /home/deploy/shadcoding-task1/backend/.env
#    sudo chown deploy:deploy /home/deploy/shadcoding-task1/backend/.env
#    sudo chmod 600 /home/deploy/shadcoding-task1/backend/.env
#
# 5. Restart Gunicorn:
#    sudo systemctl restart gunicorn
#
# 6. Check if it's working:
#    sudo systemctl status gunicorn
#    curl http://18.223.101.101/api/projects/
#
# 7. Access your site:
#    http://18.223.101.101
#
# =========================================================
# NEXT STEPS
# =========================================================
#
# After this configuration is working:
#
# 1. Configure DNS:
#    - Add A record: zohaib.no → 18.223.101.101
#    - Add A record: www.zohaib.no → 18.223.101.101
#
# 2. Wait for DNS propagation (check with: nslookup zohaib.no)
#
# 3. Obtain SSL certificate:
#    sudo bash /home/deploy/shadcoding-task1/deployment/setup-ssl.sh
#
# 4. Switch to PHASE 2 configuration:
#    Use .env.phase2-https file
#
# =========================================================
